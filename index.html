<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="Stay Hungry,Stay Foolish.">
<meta property="og:type" content="website">
<meta property="og:title" content="个人博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="个人博客">
<meta property="og:description" content="Stay Hungry,Stay Foolish.">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="个人博客">
<meta name="twitter:description" content="Stay Hungry,Stay Foolish.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'NSLegend'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>个人博客</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Stay Hungry,Stay Foolish.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/08/音视频入门学习笔记-6-视频编码与视频格式的区别和联系/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NSLegend">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/08/音视频入门学习笔记-6-视频编码与视频格式的区别和联系/" itemprop="url">音视频入门学习笔记(6)视频编码与视频格式的区别和联系</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-08T14:44:49+08:00">
                2018-11-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>视频编码是一种压缩技术，就是把原始的视频流压缩成特定的比特流（视编码方案）。视频格式是一种封装格式，就是把编码后的比特流进行封装，不同的视频格式封装方法不同。打个比方，原始的模拟视频采用MPEG2数字化编码后，你可以采用TS流格式封装成TS流文件，也可以采用PS流格式封装成PS流文件，选择权在于你，TS流是称为实时流，他把视频信息分成很多很小的包，损坏了一个包，你解码回放时只是看不见一小部分（例如出现马赛克），但是PS流是文件流，文件损害的话，整个文件都看不了了。再形象的说，一段视频资源用TS流封装就是把这段视频切成10个部分，放到10个盒子里，一个盒子一个盒子的按照顺序打开，你就能看完这段视频；而PS流式把整个视频放到1个盒子里，它会自动按照顺序播放出来给您观看；如果有一个盒子坏了，TS流可以看到9个盒子，PS你就都看不见了。</p>
<p>其实如何对应都是各个厂家用来控制市场的一种方式而已，有编就有解，我编的，你必须用我的方式来解，不然你就看不了我的图像了，当然某些程度上这些私有标准也是具有技术含量的，他们能在一定程度上提高视频编码的效率或者提高画质等。<br>国际上标准的视频编码格式目前只有MPEG2/MPEG4/H.264/MJPEG这几种，所以其他的编码格式都是各个厂家的私有编码（例如微软的DIVX、real公司的RM系列等）<br>对应可以如下<br>（封装格式：编码格式）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">AVI：MPEG-2，DIVX，XVID，AC-1，H.264;</span><br><span class="line">WMV：WMV，AC-1;</span><br><span class="line">RM、RMVB：RV， RM;</span><br><span class="line">MOV：MPEG-2，XVID，H.264;</span><br><span class="line">TS/PS：MPEG-2，H.264，MPEG-4;</span><br><span class="line">MKV：可以封装所有的视频编码格式。</span><br></pre></td></tr></table></figure></p>
<p>常见的高清视频编码和封装格式<br>回答：<br>高清编码基本采用AC-1、MPEG2、H.264<br>目前高清对应于封装如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">AVI：AC-1、MPEG2、H.264</span><br><span class="line">TS/PS：MPEG-2，H.264;</span><br><span class="line">MKV：AC-1、MPEG2、H.264</span><br></pre></td></tr></table></figure></p>
<p>高清的和普清的一样，没啥大的区别，如果REAL公司要做高清的编码一样可以做出来，只不过它的市场不在那一块而已 。</p>
<p>来源：CSDN<br>原文：<a href="https://blog.csdn.net/oney139/article/details/6273525" target="_blank" rel="noopener">https://blog.csdn.net/oney139/article/details/6273525</a> </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/08/音视频入门学习笔记-5-视频格式那么多，MP4-RMVB-MKV-AVI-等，这些视频格式与编码压缩标准-mpeg4，H-264-H-265等有什么关系/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NSLegend">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/08/音视频入门学习笔记-5-视频格式那么多，MP4-RMVB-MKV-AVI-等，这些视频格式与编码压缩标准-mpeg4，H-264-H-265等有什么关系/" itemprop="url">音视频入门学习笔记(5)视频格式那么多，MP4-RMVB-MKV-AVI-等，这些视频格式与编码压缩标准-mpeg4，H-264-H-265等有什么关系</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-08T11:42:30+08:00">
                2018-11-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>通过引入下面三个概念来介绍视频压缩知识。分别是：视频文件格式（简称：文件格式），视频封装格式（简称：视频格式），视频编码方式（简称：视频编码）</p>
<p><strong>一，视频文件格式（简称：文件格式）</strong>：我们知道Windows系统中的文件名都有后缀，例如1.doc，2.wps，3.psd等等。Windows设置后缀名的目的是让系统中的应用程序来识别并关联这些文件，让相应的文件由相应的应用程序打开。例如你双击1.doc文件，它会知道让Microsoft Office去打开，而不会用Photoshop去打开这个文件。所以常见的视频文件格式如1.avi，2.mpg这些都叫做视频的文件格式，它由你电脑上安装的视频播放器关联。你可以随意改扩展名，但是真的对视频一点影响都没有，千万不要以为 avi 改成 mp4，视频就变成 mp4 格式了。</p>
<p><strong>二、视频封装格式（简称：视频格式）</strong>：AVI，MPEG，VOB是一种视频封装格式，相当于一种储存视频信息的容器。它是由相应的公司开发出来的。我们可以在自己的电脑上看到的1.avi，2.mpg，3.vob这些视频文件格式的后缀名即采用相应的视频封装格式的名称。以下集中介绍几种封装格式：</p>
<p><strong>1，AVI格式（后缀为.AVI）</strong>：它的英文全称为Audio Video Interleaved，即<a href="https://baike.baidu.com/item/音频视频交错格式" target="_blank" rel="noopener">音频视频交错格式</a>。它于1992年被Microsoft公司推出。</p>
<p>这种视频格式的优点是图像质量好。由于无损AVI可以保存alpha通道，经常被我们使用。缺点太多，体积过于庞大，而且更加糟糕的是压缩标准不统一，最普遍的现象就是高版本Windows媒体播放器播放不了采用早期编码编辑的AVI格式视频，而低版本Windows媒体播放器又播放不了采用最新编码编辑的AVI格式视频，所以我们在进行一些AVI格式的视频播放时常会出现由于<a href="https://baike.baidu.com/item/视频编码" target="_blank" rel="noopener">视频编码</a>问题而造成的视频不能播放或即使能够播放，但存在不能调节播放进度和播放时只有声音没有图像等一些莫名其妙的问题。</p>
<p><strong>2，DV-AVI格式（后缀为.AVI）</strong>：DV的英文全称是Digital Video Format，是由索尼、松下、JVC等多家厂商联合提出的一种家用数字视频格式。</p>
<p>数字摄像机就是使用这种格式记录视频数据的。它可以通过电脑的IEEE 1394端口传输视频数据到电脑，也可以将电脑中编辑好的的视频数据回录到数码摄像机中。这种视频格式的文件扩展名也是avi。电视台采用录像带记录模拟信号，通过EDIUS由IEEE 1394端口采集卡从录像带中采集出来的视频就是这种格式。</p>
<p><strong>3，QuickTime File Format格式（后缀为.MOV）</strong>：美国Apple公司开发的一种视频格式，默认的播放器是苹果的QuickTime。具有较高的压缩比率和较完美的视频清晰度等特点，并可以保存alpha通道。大家可能注意到了，每次安装EDIUS，我们都要安装苹果公司推出的QuickTime。安装其目的就是为了支持JPG格式图像和MOV视频格式导入。<br>4，<strong>MPEG格式（文件后缀可以是 .MPG .MPEG .MPE .DAT .VOB .ASF .3GP .MP4等）</strong>：它的英文全称为Moving Picture Experts Group，即运动图像专家组格式，该专家组建于1988年，专门负责为CD建立视频和音频标准，而成员都是为视频、音频及系统领域的技术专家。</p>
<p>MPEG文件格式是运动图像压缩算法的国际标准。MPEG格式目前有三个压缩标准，分别是MPEG－1、MPEG－2、和MPEG－4。MPEG－1、MPEG－2目前已经使用较少，着重介绍MPEG－4，其制定于1998年，MPEG－4是为了播放流式媒体的高质量视频而专门设计的，以求使用最少的数据获得最佳的图像质量。目前MPEG-4最有吸引力的地方在于它能够保存接近于DVD画质的小体积视频文件。你可能一定注意到了，怎么没有MPEG－3编码，因为这个项目原本目标是为高分辨率电视设计，随后发现MPEG-2已足够HDTV应用，故MPEG-3的研发便中止（百度百科说MPEG－3就是mp3，我认为这个说法并不准确。）。</p>
<p><strong>5，WMV格式（后缀为.WMV .ASF）</strong>：它的英文全称为Windows Media Video，也是微软推出的一种采用独立编码方式并且可以直接在网上实时观看视频节目的文件压缩格式。</p>
<p>WMV格式的主要优点包括：本地或网络回放,丰富的流间关系以及扩展性等。WMV格式需要在网站上播放，需要安装Windows Media Player（简称WMP），很不方便，现在已经几乎没有网站采用了。<br><strong>6，Real Video格式（后缀为.RM .RMVB）</strong>：Real Networks公司所制定的音频视频压缩规范称为Real Media。</p>
<p>用户可以使用RealPlayer根据不同的网络传输速率制定出不同的压缩比率，从而实现在低速率的网络上进行影像数据实时传送和播放。RMVB格式：这是一种由RM视频格式升级延伸出的新视频格式，当然性能上有很大的提升。RMVB视频也是有着较明显的优势，一部大小为700MB左右的DVD影片，如果将其转录成同样品质的RMVB格式，其个头最多也就400MB左右。大家可能注意到了，以前在网络上下载电影和视频的时候，经常接触到RMVB格式，但是随着时代的发展这种格式被越来越多的更优秀的格式替代，著名的人人影视字幕组在2013年已经宣布不再压制RMVB格式视频。<br><strong>7，Flash Video格式（后缀为.FLV）</strong>：由Adobe Flash延伸出来的的一种流行网络视频封装格式。随着视频网站的丰富，这个格式已经非常普及。<br><strong>8，Matroska格式（后缀为.MKV）</strong>：是一种新的多媒体封装格式，这个封装格式可把多种不同编码的视频及16条或以上不同格式的音频和语言不同的字幕封装到一个Matroska Media档内。它也是其中一种开放源代码的多媒体封装格式。Matroska同时还可以提供非常好的交互功能，而且比MPEG的方便、强大。 </p>
<p><strong>常用视频格式及对应的文件格式</strong></p>
<p><img src="https://upload-images.jianshu.io/upload_images/2333461-839c8a0d9fb26703.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="视频格式及对应的文件格式.jpg"></p>
<p><strong>三，视频编码方式（简称：视频编码）</strong>：所谓视频编码方式就是指能够对数字视频进行压缩或者解压缩（视频解码）的程序或者设备。通常这种压缩属于有损数据压缩。也可以指通过过特定的压缩技术，将某个视频格式转换成另一种视频格式。常见的编码方式有：<br><strong>1，H.26X系列</strong>（由ITU[国际电传视讯联盟]主导）包括H.261、H.262、H.263、H.264、H.265。</p>
<ul>
<li>H.261：主要在老的视频会议和视频电话产品中使用。</li>
<li>H.263：主要用在视频会议、视频电话和网络视频上。 </li>
<li>H.264：H.264/MPEG-4第十部分，或称AVC（Advanced Video Coding，高级视频编码），是一种视频压缩标准，一种被广泛使用的高精度视频的录制、压缩和发布格式。</li>
<li>H.265：高效率视频编码（High Efficiency Video Coding，简称HEVC）是一种视频压缩标准，H.264/MPEG-4 AVC的继任者。HEVC被认为不仅提升图像质量，同时也能达到H.264/MPEG-4 AVC两倍之压缩率（等同于同样画面质量下比特率减少了50%），可支持4K分辨率甚至到超高画质电视，最高分辨率可达到8192×4320（8K分辨率），这是目前发展的趋势。直至2013年，Potplayer添加了对于H.265视频的解码，尚未有大众化编码软件出现。<br><strong>2，MPEG系列</strong>（由ISO[国际标准组织机构]下属的MPEG[运动图象专家组]开发 ）</li>
</ul>
<blockquote>
<p>总之，即使是同一种视频文件格式，如*.MPG。又分为MPEG-1，MPEG-2 ，MPEG-4几种不同的视频封装格式，就算是同一种视频封装格式，如MPEG-4又可以使用多种视频编码方式。视频的编码形式才是一个视频文件的本质所在，不要简单的通过文件格式和封装形式来区分视频。</p>
</blockquote>
<p>援引自：<a href="http://www.zhihu.com/question/20997688" target="_blank" rel="noopener">http://www.zhihu.com/question/20997688</a></p>
<p>雷神总结：<a href="https://blog.csdn.net/leixiaohua1020/article/details/11842919" target="_blank" rel="noopener">https://blog.csdn.net/leixiaohua1020/article/details/11842919</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/08/音视频入门学习笔记-4-视频播放过程及视频文件格式/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NSLegend">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/08/音视频入门学习笔记-4-视频播放过程及视频文件格式/" itemprop="url">音视频入门学习笔记(4)视频播放过程及视频文件格式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-08T11:31:19+08:00">
                2018-11-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p> 具体视频文件格式详解：  </p>
<ul>
<li>. MPEG/.MPG/.DAT   <blockquote>
<p>MPEG也是Motion Picture Experts Group的缩写。这类格式包括了MPEG-1, MPEG-2和 MPEG-4在内的多种视频格式。MPEG-1相信是大家接触得最多的了，因为目前其正在被广泛地应用在VCD的制作和一些视频片段下载的网络应用上面，大部分的VCD都是用 MPEG1格式压缩的( 刻录软件自动将MPEG1转为.DAT格式)，使用 MPEG-1的压缩算法，可以把一部 120 分钟长的电影压缩到1.2 GB 左右大小。MPEG-2则是应用在DVD 的制作，同时在一些HDTV（高清晰电视广播）和一些高要求视频编辑、处理上面也有相当多的应用。使用MPEG-2的压缩算法压缩一部 120 分钟长的电影可以压缩到 5-8 GB的大小（MPEG2的图像质量MPEG-1与其无法比拟的）。 </p>
</blockquote>
</li>
</ul>
<ul>
<li><p>.AVI   </p>
<blockquote>
<p>它的英文全称为Audio Video Interleaved，即音频视频交错格式。是将语音和影像同步组合在一起的文件格式。它对视频文件采用了一种有损压缩方式，但压缩比较高，因此尽管面面质量不是太好，但其应用范围仍然非常广泛。AVI支持256色和RLE压缩。AVI信息主要应用在多媒体光盘上，用来保存电视、电影等各种影像信息。它于1992年被Microsoft公司推出，随Windows3.1一起被人们所认识和熟知。所谓“音频视频交错”，就是可以将视频和音频交织在一起进行同步播放。这种视频格式的优点是图像质量好，可以跨多个平台使用，其缺点是体积过于庞大，而且更加糟糕的是压缩标准不统一，最普遍的现象就是高版本Windows媒体播放器播放不了采用早期编码编辑的AVI格式视频，而低版本Windows媒体播放器又播放不了采用最新编码编辑的AVI格式视频，所以我们在进行一些AVI格式的视频播放时常会出现由于视频编码问题而造成的视频不能播放或即使能够播放，但存在不能调节播放进度和播放时只有声音没有图像等一些莫名其妙的问题，如果用户在进行AVI格式的视频播放时遇到了这些问题，可以通过下载相应的解码器来解决。是目前视频文件的主流。 这种格式的文件随处可见，比如一些游戏、教育软件的片头，多媒体光盘中，都会有不少的 AVI 。现在，在WINDOWS 95或98里都能直接播放AVI，同一种格式的avi文件有可能采用不同的编码方式，最常见的有Intel Indeo（R）Video R3.2（像游戏过场动画等，是目前使用最广泛的一种avi编码技术）、Microsoft video 等。 </p>
</blockquote>
</li>
<li><p>.RA/RM/RAM   </p>
<blockquote>
<p>.RM，Real Networks公司所制定的音频/视频压缩规范Real Media中的一种，Real Player能做的就是利用Internet资源对这些符合Real Media技术规范的音频/视频进行实况转播。在Real Media规范中主要包括三类文件：RealAudio、Real Video和Real Flash（Real Networks公司与Macromedia公司合作推出的新一代高压缩比动画格式）。REAL VIDEO（RA、RAM）格式由一开始就是定位就是在视频流应用方面的，也可以说是视频流技术的始创者。它可以在用56K MODEM 拨号上网的条件实现不间断的视频播放，从RealVideo的定位来看，就是牺牲画面质量来换取可连续观看性。其实RealVideo也可以实现不错的画面质量，由于RealVideo可以拥有非常高的压缩效率，很多人把VCD编码成RealVideo格式的，这样一来，一张光盘上可以存放好几部电影。REAL VIDEO存在颜色还原不准确的问题，RealVideo就不太适合专业的场合，但RealVideo出色的压缩效率和支持流式播放的特征，使得RealVideo在网络和娱乐场合占有不错的市场份额。 </p>
</blockquote>
</li>
<li><p>.MOV   </p>
<blockquote>
<p>MOV格式，美国Apple公司开发的一种视频格式，默认的播放器是苹果的QuickTimePlayer。具有较高的压缩比率和较完美的视频清晰度等特点，但是其最大的特点还是跨平台性，即不仅能支持MacOS，同样也能支持Windows系列,在所有视频格式当中，也许MOV格式是最不知名的。也许你会听说过QuickTime，MOV格式的文件正是由它来播放的。在PC几乎一统天下的今天，从Apple移植过来的MOV格式自然是受到排挤的。它具有跨平台、存储空间要求小的技术特点，而采用了有损压缩方式的MOV格式文件，画面效果较AVI格式要稍微好一些。到目前为止，它共有4个版本，其中以 4.0 版本的压缩率最好。这种编码支持16位图像深度的帧内压缩和帧间压缩，帧率每秒10帧以上。现在这种格式有些非编软件也可以对它时行处理，其中包括ADOBE公司的专业级多媒体视频处理软件AFTEREFFECT和PREMIERE。 *.ASF  ASF (Advanced Streaming format高级流格式)。ASF是MICROSOFT 为了和现在的 Real player 竞争而发展出来的一种可以直接在网上观看视频节目的文件压缩格式。ASF使用了MPEG4的压缩算法，压缩率和图像的质量都很不错。因为ASF是以一个可以在网上即时观赏的视频“流”格式存在的，所以它的图像质量比VCD差一点点并不出奇，但比同是视频“流”格式的RAM格式要好。 ASF支持任意的压缩/解压缩编码方式，并可以使用任何一种底层网络传输协议，具有很大的灵活性。ASF流文件的数据速率可以在28.8Kbps到3Mbps之间变化。用户可以根据自己应用环境和网络条件选择一个合适的速率，实现VOD点播和直播。 </p>
</blockquote>
</li>
<li>.WMV  <blockquote>
<p>WMV是微软推出的一种流媒体格式，它是ASF的升级延伸，在同等视频质量下，WMV格式的体积非常小，因此很适合在网上播放和传输。微软希望用其取代QuickTime之类的技术标准以及WAV、AVI之类的文件扩展名。WMV的主要优点在于：可扩充的媒体类型、本地或网络回放、可伸缩的媒体类型、流的优先级化、多语言支持、扩展性等。 </p>
</blockquote>
</li>
<li>.NAVI   <blockquote>
<p>如果你发现原来的播放软件突然打不开此类格式的AVI文件，那你就要考虑是不是碰到了n AVI。n AVI是New AVI 的缩写，是一个名为Shadow Realm的地下组织发展起来的一种新视频格式。它是由Microsoft ASF压缩算法的修改而来的（并不是想象中的AVI），视频格式追求的无非是压缩率和图像质量，所以NAVI为了追求这个目标，改善了原始的ASF格式的一些不足，让 NAVI 可以拥有更高的帧率。可以这样说，NAVI是一种去掉视频流特性的改良型ASF格式。 - .FLV<br>FLV 是 FLASH VIDEO的简称，是由Macromedia公司开发的属于自己的流式视频格式。FLV也就是随着Flash MX的推出发展而来的视频格式，是在sorenson公司的压缩算法的基础上开发出来的。FLV格式不仅可以轻松的导入Flash中，速度极快，并且能其到保护版权的作用，并且可以不通过本地的微软或者REAL播放器播放视频。Flash MX 2004对其提供了完美的支持，它的出现有效地解决了视频文件导入Flash后，使导出的SWF文件体积庞大，不能在网络上很好的使用等缺点。由于它形成的文件极小、加载速度极快，使得网络观看视频文件成为可能，它的出现有效地解决了视频文件导入Flash后，使导出的SWF文件体积庞大，不能在网络上很好的使用等缺点。</p>
</blockquote>
</li>
</ul>
<p>摘自：<a href="http://blog.csdn.net/fenglinfeiye/article/details/5608295" target="_blank" rel="noopener">http://blog.csdn.net/fenglinfeiye/article/details/5608295</a></p>
<p>介绍：视频播放过程</p>
<p>首先简单介绍以下视频文件的相关知识。我们平时看到的视频文件有许多格式，比如 avi， mkv， rmvb， mov， mp4等等，这些被称为<a href="http://en.wikipedia.org/wiki/Digital_container_format" target="_blank" rel="noopener">容器</a>（<a href="http://wiki.multimedia.cx/index.php?title=Category:Container_Formats" target="_blank" rel="noopener">Container</a>）， 不同的容器格式规定了其中音视频数据的组织方式（也包括其他数据，比如字幕等）。容器中一般会封装有视频和音频轨，也称为视频流（stream）和音频 流，播放视频文件的第一步就是根据视频文件的格式，解析（demux）出其中封装的视频流、音频流以及字幕（如果有的话），解析的数据读到包 （packet）中，每个包里保存的是视频帧（frame）或音频帧，然后分别对视频帧和音频帧调用相应的解码器（decoder）进行解码，比如使用 H.264编码的视频和MP3编码的音频，会相应的调用H.264解码器和MP3解码器，解码之后得到的就是原始的图像(YUV or RGB)和声音(PCM)数据，然后根据同步好的时间将图像显示到屏幕上，将声音输出到声卡，最终就是我们看到的视频。</p>
<img src="/2018/11/08/音视频入门学习笔记-4-视频播放过程及视频文件格式/videoaudio04_1.png" title="解码显示流程">
<p>封装格式</p>
<pre><code>作用：视频码流和音频码流按照一定的格式储存在一个文件汇总
</code></pre><p>视频编码数据</p>
<pre><code>作用：将视频像素数据（RGB，YUV等）压缩成为视频码流，从而降低视频的数据量
</code></pre><p>音频编码数据</p>
<pre><code>作用：将音频采样数据（PCM等）压缩成为音频码流，从而降低音频的数据量
</code></pre><p>视频像素数据</p>
<pre><code>作用：保存了屏幕上每一个像素点的像素值

格式：常见的像素数据格式有RGB24, RGB32,YUV420P,YUV422P,YUV444P等。压缩编码中一般使用的是YUV格式的像素数据,最为常见的格式YUV420P。

特点：视频像素数据体积很大，一般情况下一小时高清视频的RGB24格式的数据体积为：3600*25*1920*1080*3=559.9GB（PS：这里假定帧率为25HZ，取样精度8bit）
</code></pre><p>音频采样数据</p>
<pre><code>作用：保存了音频中每个采样点的值。

特点：音频采样数据体积很大,一般情况下一首4分钟的PCM格式的歌曲体积为: 4*60*44100*2*2=42.3MByte
           PS:这里假定采样率为44100Hz,采样精度为16bit
</code></pre><p>参考博客：雷神<a href="https://blog.csdn.net/leixiaohua1020/article/details/50535082" target="_blank" rel="noopener">https://blog.csdn.net/leixiaohua1020/article/details/50535082</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/08/音视频入门学习笔记-3-帧率-分辨率-码流的关系/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NSLegend">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/08/音视频入门学习笔记-3-帧率-分辨率-码流的关系/" itemprop="url">音视频入门学习笔记(3)帧率-分辨率-码流的关系</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-08T11:27:09+08:00">
                2018-11-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>帧率 分辨率 码流的关系:</code>     </p>
<pre><code>  帧率、码流与分辨率  帧率是每秒图像的数量，分辨率表示每幅图像的尺寸即像素数量，码流是经过视频压
缩后每秒产生的数据量，而压缩是去掉图像的空间冗余和视频的时间冗余，所以，对于静止的场景，可以用
很低的码流获得较好的图像质量，而对于剧烈运动的场景，可能用很高的码流也达不到好的图像质量，所以
结论是设置帧率表示您要的实时性，设置分辨率是您要看的图像尺寸大小，而码率的设置取决于摄像机及场景
的情况，通过现场调试，直到取得一个可以接受的图像质量，就可以确定码流大小。   

  帧率概念  一帧就是一副静止的画面，连续的帧就形成动画，如电视图象等。我们通常说帧数，简单地说，
就是在1秒钟时间里传输的图片的帧数，也可以理解为图形处理器每秒钟能够刷新几次，通常用fps（Frames Per Second）   
表示。每一帧都是静止的图象，快速连续地显示帧便形成了运动的假象。高的帧率可以得到更流畅、更逼真
的动画。每秒钟帧数 (fps) 愈多，所显示的动作就会愈流畅。  

 码流概念  码流（Data Rate），是指视频文件在单位时间内使用的数据流量，也叫码率，是他是视频编码中
画面质量控制中最重要的部分。同样分辨率下，视频文件的码流越大，压缩比就越小，画面质量就越高。   

  分辨率概念  视频分辨率是指视频成像产品所成图像的大小或尺寸。常见的视像分辨率有352×288，176×144，
640×480，1024×768。在成像的两组数字中，前者为图片长度，后者为图片的宽度，两者相乘得出的是图片
的像素，长宽比一般为4：3。 

  同样分辨率下，视频文件的码流越大，压缩比就越小，画面质量就越高。    
  在PAL制情况下：  CIF 352×288的分辨率，建议码流设置为512kbps，用0.5M的带宽传输  4CIF 704×576
的分辨率，建议码流设置为2048kbps，用2M的带宽传输，但是使用1536bps也可。    
  第一步：根据式（1）计算单个通道每小时所需要的存储容量S1 , 单位MByte。                         
   S1=D / 8 * 3600 / 1024   
  其中：D－ 码率（即录像设置中的“位率/位率上限”），单位Kbit/s   
  第二步：确定录像时间要求后，根据式（2）计算单个通道所需要的存储容量S2, 单位MByte
   S2=S1 * 24 * t 
  其中：t为保存天数 24表示一天24小时录像  第二步：确定视频通道数 计算最终所需容量S3 S3=S2 *N 
  其中：N为视频通道数
</code></pre><p><code>视频码率,帧率和分辨率到底哪一个影响电影的清晰度 :</code> </p>
<pre><code>  码率：影响体积，与体积成正比：码率越大，体积越大；码率越小，体积越小。  码率就是数据传输时单位
时间传送的数据位数,一般我们用的单位是kbps即千位每秒。也就是取样率（并不等同与采样率，采样率的单位是Hz，
表示每秒采样的次数），单位时间内取样率越大，精度就越高，处理出来的文件就越接近原始文件，但是文件体积
与取样率是成正比的，所以几乎所有的编码格式重视的都是如何用最低的码率达到最少的失真，围绕这个核心
衍生出来cbr（固定码率）与vbr（可变码率）， “码率”就是失真度，码率越高越清晰，反之则画面粗糙而多
马赛克。   
  下面是通过一个wav文件的采样率来计算码率和文件大小，通过MediaInfo工具显示的文件信息如下： 
概要  完整名称  :audio\wav\adele-rolling_in_the_deep.wav
     文件格式  : Wave 
     文件大小  : 38.3 MiB 
    长度   : 3分 47秒 
     平均混合码率   : 1 411 Kbps   
    音频  ID : 0 
    文件格式  : PCM 
    格式设置,Endianness      : Little
     编码设置ID                          : 1
     编码设置ID/提示信息         : Microsoft 
    长度                                      : 3分 47秒 
    码率                                      : 1 411.2 Kbps
   声道                                     : 2声道 
    采样率                                 : 44.1 KHz 
    位深度                                 : 16位  大小                                     : 38.3 MiB (100%)    
    1.码率计算公式：  码率=采样率 x 位深度 x 声道  所以，上面文件的码率= 44.1Khz x 16位 x 2声道 = 1411.2 Kbps 


   2.文件大小 = 码率 x 时长 = 1411.2 Kbps x (3 x 60 + 47 )s = 1411.2Kbps x 227s  =38102.4 Kb  38102.4 Kb / 1024 Kb/M = 37.2M  近似等于mediainfo工具显示的文件大小38.3M。  注：此计算公式对未压缩的wav格式文件有效，不适用于mp3等被压缩的文件。   帧率：影响画面流畅度，与画面流畅度成正比：帧率越大，画面越流畅；帧率越小，画面越有跳动感。如果码率为变量，则帧率也会影响体积，帧率越高，每秒钟经过的画面越多，需要的码率也越高，体积也越大。  帧率就是在1秒钟时间里传输的图片的帧数，也可以理解为图形处理器每秒钟能够刷新几次，   分辨率：影响图像大小，与图像大小成正比：分辨率越高，图像越大；分辨率越低，图像越小。

清晰度  在码率一定的情况下，分辨率与清晰度成反比关系：分辨率越高，图像越不清晰，分辨率越低，图像越清晰。  在分辨率一定的情况下，码率与清晰度成正比关系，码率越高，图像越清晰；码率越低，图像越不清晰。    带宽、帧率  例如在ADSL线路上传输图像，上行带宽只有512Kbps，但要传输4路CIF分辨率的图像。按照常规，CIF分辨率建议码率是512Kbps，那么照此计算就只能传一路，降低码率势必会影响图像质量。那么为了确保图像质量，就必须降低帧率，这样一来，即便降低码率也不会影响图像质量，但在图像的连贯性上会有影响。
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/08/音视频入门学习笔记-2-FFmpeg命令行工具的使用/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NSLegend">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/08/音视频入门学习笔记-2-FFmpeg命令行工具的使用/" itemprop="url">音视频入门学习笔记(2)FFmpeg命令行工具的使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-08T11:05:04+08:00">
                2018-11-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="最简单的命令"><a href="#最简单的命令" class="headerlink" title="最简单的命令"></a>最简单的命令</h3><pre><code>ffmpeg -i input.avi -b:v 640k output.ts
该命令将当前文件夹下的input.avi文件转换为output.ts文件,并将output.ts文件视频的码率设置为640kbps。
</code></pre><h3 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h3><pre><code>ffmpeg -i {输入文件路径} -b:v {输出视频码率} {输出文件路径}
所有的参数都是以键值对的形式指定的。例如输入文件参数是“-i”,而参数值是文件路径;输出视频码率参数是“-b:v”,
而参数值是视频的码率值。但是注意位于最后面的输出文件路径前面不包含参数名称。
</code></pre><p>常用参数：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/2333461-ddb9e2547f3eeff5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="5512.png"></p>
<h2 id="ffplay-用于视频的播放。"><a href="#ffplay-用于视频的播放。" class="headerlink" title="ffplay 用于视频的播放。"></a>ffplay 用于视频的播放。</h2><p>最简单的命令</p>
<pre><code>ffplay input.avi 播放当前文件夹下的input.avi文件。
</code></pre><h3 id="命令格式-1"><a href="#命令格式-1" class="headerlink" title="命令格式"></a>命令格式</h3><pre><code>ffplay {输入文件路径}
</code></pre><p>ffplay.exe的参数格式和ffmpeg.exe是类似的。所有的参数都是以键值对的形式指定的(由于不包含输出文件,所以只能指定输入参数)。注意位于最后面的输入文件路径前面不包含参数名称。</p>
<p>其他详细参数：</p>
<p>a) 通用选项</p>
<pre><code>-L license
-h 帮助
-fromats 显示可用的格式，编解码的，协议的...
-f fmt 强迫采用格式fmt
-I filename 输入文件
-y 覆盖输出文件
-t duration 设置纪录时间 hh:mm:ss[.xxx]格式的记录时间也支持
-ss position 搜索到指定的时间 [-]hh:mm:ss[.xxx]的格式也支持
-title string 设置标题
-author string 设置作者
-copyright string 设置版权
-comment string 设置评论
-target type 设置目标文件类型(vcd,svcd,dvd) 所有的格式选项（比特率，编解码以及缓冲区大小）自动设置，只需要输入如下的就可以了：ffmpeg -i myfile.avi -target vcd /tmp/vcd.mpg
-hq 激活高质量设置
-itsoffset offset 设置以秒为基准的时间偏移，该选项影响所有后面的输入文件。该偏移被加到输入文件的时戳，定义一个正偏移意味着相应的流被延迟了 offset秒。 [-]hh:mm:ss[.xxx]的格式也支持
</code></pre><p>b) 视频选项</p>
<pre><code>-b bitrate 设置比特率，缺省200kb/s
-r fps 设置帧频 缺省25
-s size 设置帧大小 格式为WXH 缺省160X128.下面的简写也可以直接使用：
</code></pre><p>Sqcif 128X96 qcif 176X144 cif 252X288 4cif 704X576<br>    -aspect aspect 设置横纵比 4:3 16:9 或 1.3333 1.7777<br>    -croptop size 设置顶部切除带大小 像素单位<br>    -cropbottom size –cropleft size –cropright size<br>    -padtop size 设置顶部补齐的大小 像素单位<br>    -padbottom size –padleft size –padright size –padcolor color 设置补齐条颜色(hex,6个16进制的数，红:绿:兰排列，比如 000000代表黑色)<br>    -vn 不做视频记录<br>    -bt tolerance 设置视频码率容忍度kbit/s<br>    -maxrate bitrate设置最大视频码率容忍度<br>    -minrate bitreate 设置最小视频码率容忍度<br>    -bufsize size 设置码率控制缓冲区大小<br>    -vcodec codec 强制使用codec编解码方式。如果用copy表示原始编解码数据必须被拷贝。<br>    -sameq 使用同样视频质量作为源（VBR）<br>    -pass n 选择处理遍数（1或者2）。两遍编码非常有用。第一遍生成统计信息，第二遍生成精确的请求的码率<br>    -passlogfile file 选择两遍的纪录文件名为file</p>
<p>c)高级视频选项</p>
<pre><code>-g gop_size 设置图像组大小
-intra 仅适用帧内编码
-qscale q 使用固定的视频量化标度(VBR)
-qmin q 最小视频量化标度(VBR)
-qmax q 最大视频量化标度(VBR)
-qdiff q 量化标度间最大偏差 (VBR)
-qblur blur 视频量化标度柔化(VBR)
-qcomp compression 视频量化标度压缩(VBR)
-rc_init_cplx complexity 一遍编码的初始复杂度
-b_qfactor factor 在p和b帧间的qp因子
-i_qfactor factor 在p和i帧间的qp因子
-b_qoffset offset 在p和b帧间的qp偏差
-i_qoffset offset 在p和i帧间的qp偏差
-rc_eq equation 设置码率控制方程 默认tex^qComp
-rc_override override 特定间隔下的速率控制重载
-me method 设置运动估计的方法 可用方法有 zero phods log x1 epzs(缺省) full
-dct_algo algo 设置dct的算法 可用的有 0 FF_DCT_AUTO 缺省的DCT 1 FF_DCT_FASTINT 2 FF_DCT_INT 3 FF_DCT_MMX 4 FF_DCT_MLIB 5 FF_DCT_ALTIVEC
-idct_algo algo 设置idct算法。可用的有 0 FF_IDCT_AUTO 缺省的IDCT 1 FF_IDCT_INT 2 FF_IDCT_SIMPLE 3 FF_IDCT_SIMPLEMMX 4 FF_IDCT_LIBMPEG2MMX 5 FF_IDCT_PS2 6 FF_IDCT_MLIB 7 FF_IDCT_ARM 8 FF_IDCT_ALTIVEC 9 FF_IDCT_SH4 10 FF_IDCT_SIMPLEARM
-er n 设置错误残留为n 1 FF_ER_CAREFULL 缺省 2 FF_ER_COMPLIANT 3 FF_ER_AGGRESSIVE 4 FF_ER_VERY_AGGRESSIVE
-ec bit_mask 设置错误掩蔽为bit_mask,该值为如下值的位掩码 1 FF_EC_GUESS_MVS (default=enabled) 2 FF_EC_DEBLOCK (default=enabled)
-bf frames 使用frames B 帧，支持mpeg1,mpeg2,mpeg4
-mbd mode 宏块决策 0 FF_MB_DECISION_SIMPLE 使用mb_cmp 1 FF_MB_DECISION_BITS 2 FF_MB_DECISION_RD
-4mv 使用4个运动矢量 仅用于mpeg4
-part 使用数据划分 仅用于mpeg4
-bug param 绕过没有被自动监测到编码器的问题
-strict strictness 跟标准的严格性
-aic 使能高级帧内编码 h263+
-umv 使能无限运动矢量 h263+
-deinterlace 不采用交织方法
-interlace 强迫交织法编码仅对mpeg2和mpeg4有效。当你的输入是交织的并且你想要保持交织以最小图像损失的时候采用该选项。可选的方法是不交织，但是损失更大
-psnr 计算压缩帧的psnr
-vstats 输出视频编码统计到vstats_hhmmss.log
-vhook module 插入视频处理模块 module 包括了模块名和参数，用空格分开
</code></pre><p>d)音频选项</p>
<pre><code>-ab bitrate 设置音频码率
-ar freq 设置音频采样率
-ac channels 设置通道 缺省为1
-an 不使能音频纪录
-acodec codec 使用codec编解码
</code></pre><p>e)音频/视频捕获选项</p>
<pre><code>-vd device 设置视频捕获设备。比如/dev/video0
-vc channel 设置视频捕获通道 DV1394专用
-tvstd standard 设置电视标准 NTSC PAL(SECAM)
-dv1394 设置DV1394捕获
-av device 设置音频设备 比如/dev/dsp
</code></pre><p>f)高级选项</p>
<pre><code>-map file:stream 设置输入流映射
-debug 打印特定调试信息
-benchmark 为基准测试加入时间
-hex 倾倒每一个输入包
-bitexact 仅使用位精确算法 用于编解码测试
-ps size 设置包大小，以bits为单位
-re 以本地帧频读数据，主要用于模拟捕获设备
-loop 循环输入流（只工作于图像流，用于ffserver测试）
</code></pre><p>参考：<a href="https://www.jianshu.com/p/eda9c444adbe" target="_blank" rel="noopener">https://www.jianshu.com/p/eda9c444adbe</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/08/音视频入门学习笔记-1-准备知识/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NSLegend">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/08/音视频入门学习笔记-1-准备知识/" itemprop="url">音视频入门学习笔记(1)准备知识</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-08T10:54:58+08:00">
                2018-11-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/音视频学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">音视频学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="（1）帧"><a href="#（1）帧" class="headerlink" title="（1）帧"></a>（1）帧</h3><p><code>为了更好地说明帧的概念，我们先来看看电影播放的基本原理:</code></p>
<pre><code>  在放映电影的过程中，画面被一幅幅地放映在银幕上。画幅移开时，光线就被遮住，幕上便出现短暂的黑暗；
每放映一个画幅后，幕上就黑暗一次。但这一次次极短暂的黑暗，被人的视觉生理现象“视觉暂留”所弥补。人
眼在观察景物时，光信号传入大脑神经需经过一段短暂时间，光的作用结束时，视觉也不立即消失。视觉的这
一现象称为“视觉暂留”。当电影画面换幅频率达到每秒15幅~30幅时，观众便见不到黑暗的间隔了，这时人“看到”
的就是运动的事物，这就是电影的基本原理。这里的一幅画面就是电影的一帧，实际上就是电影胶片中的一格。

  帧——就是影像动画中最小单位的单幅影像画面。 一帧就是一副静止的画面，连续的帧就形成动画，如
电视图象等。 我们通常说帧数，简单地说，就是在1秒钟时间里传输的图片的帧数，也可以理解为图形处理器
每秒钟能够刷新几次，通常用FPS（Frames Per Second）表示。每一帧都是静止的图象，快速连续地显示
帧便形成了运动的假象。高的帧率可以得到更流畅、更逼真的动画。每秒钟帧数 (fps) 愈多，所显示的动作就
会愈流畅。

  关键帧——任何动画要表现运动或变化，至少前后要给出两个不同的关键状态，而中间状态的变化和衔接
电脑可以自动完成，在Flash中，表示关键状态的帧叫做关键帧。
  过渡帧——在两个关键帧之间，电脑自动完成过渡画面的帧叫做过渡帧。

两者关系：
  两个关键帧的中间可以没有过渡帧（如逐帧动画），但过渡帧前后肯定有关键帧，因为过渡帧附属于关键帧；
关键帧可以修改该帧的内容，但过渡帧无法修改该帧内容。
关键帧中可以包含形状、剪辑、组等多种类型的元素或诸多元素，但过渡帧中对象只能是剪辑（影片剪辑、图形剪
辑、按钮）或独立形状。

  影片是由一张张连续的图片组成的，每幅图片就是一帧，电影一般采用24帧的画面频率；电视根据制式的不同
以及交流电造成的扫描场频影响，帧率是每秒25帧（PAL制式）或每秒30帧（NTSC制式）。
目前最新的电影摄制技术，已经可以从每秒24帧提高到每秒48帧，比如彼得·杰克逊的《霍比特人》（The Hobbit）
片断，亮相美国电影界的盛会--CinemaCon电影产业博览会时，这段采用每秒48帧画面频率拍摄的电影片段，
预示着电影拍摄技术的又一次突破，传达出一个信息：高帧率电影正在登上舞台；同时越来越多的影院已具备播放
每秒48帧及以上的高帧率电影的能力，越来越多的影片也在进入高帧率的阵营。
</code></pre><h3 id="P、B、I三种帧"><a href="#P、B、I三种帧" class="headerlink" title="P、B、I三种帧"></a>P、B、I三种帧</h3><pre><code>  为了提高压缩比例，降低视频文件的大小，在针对连续动态图像编码时，一般会将连续若干幅图像编码为P、B、I
三种帧类型。在编码的过程中，部分视频帧序列压缩成为I帧，部分压缩成P帧，还有部分压缩成B帧。
  I帧又称为内部画面，通常是一组连续画面的第一个帧，经过适度地压缩，做为随机访问的参考点，可以当成
图像。I帧采用帧内压缩法，这种压缩与静态图像的压缩算法类似。I帧是靠尽可能去除图像空间冗余信息来压缩的。
  P帧是通过充分降低与图像序列中前面已编码帧的时间冗余信息来压缩传输数据量的编码图像，也叫预测帧。
P帧由在它前面的P帧或者I帧预测而来，它根据本帧与邻近的前一帧或几帧的不同点来压缩本帧数据。采取
P帧和I帧联合压缩的方法可达到更高的压缩且无明显的压缩痕迹。P帧属于前向预测的帧间编码。它只参考前面
靠近它的I帧或P帧。
  B帧也叫双向预测帧，当把一帧压缩成B帧时，它根据邻近的前几帧、本帧以及后几帧数据的不同点来压缩本帧，
也即仅记录本帧与前后帧的差值。只有采用B帧压缩才能达到超高的压缩比。一般地，I帧压缩效率最低，P帧较高，
B帧最高。（来源：百度百科）

也就是说，一个 I 帧可以不依赖其他帧就解码出一幅完整的图像，而 P 帧、B 帧不行。P 帧需要依赖视频流中排在
它前面的帧才能解码出图像。B 帧则需要依赖视频流中排在它前面或后面的帧才能解码出图像。
</code></pre><h3 id="三种帧的说明"><a href="#三种帧的说明" class="headerlink" title="三种帧的说明"></a>三种帧的说明</h3><p>1、I帧 </p>
<pre><code>I帧:帧内编码帧 ，I帧表示关键帧，你可以理解为这一帧画面的完整保留；解码时只需要本帧数据就可以完成（因为包含完整画面） 
</code></pre><p>I帧特点: </p>
<pre><code>1)  它是一个全帧压缩编码帧。它将全帧图像信息进行JPEG压缩编码及传输; 
2)  解码时仅用I帧的数据就可重构完整图像; 
3)  I帧描述了图像背景和运动主体的详情; 
4)  I帧不需要参考其他画面而生成;
5)  I帧是P帧和B帧的参考帧(其质量直接影响到同组中以后各帧的质量); 
6)  I帧是帧组GOP的基础帧(第一帧),在一组中只有一个I帧; 
7)  I帧不需要考虑运动矢量; 
8)  I帧所占数据的信息量比较大。 
</code></pre><p>2、P帧 </p>
<pre><code>P帧:前向预测编码帧。P帧表示的是这一帧跟之前的一个关键帧（或P帧）的差别，解码时需要用之前缓存的画面叠加上
本帧定义的差别，生成最终画面。（也就是差别帧，P帧没有完整画面数据，只有与前一帧的画面差别的数据） 

P帧的预测与重构:P帧是以I帧为参考帧,在I帧中找出P帧“某点”的预测值和运动矢量,取预测差值和运动矢量一起传送。
在接收端根据运动矢量从I帧中找出P帧“某点”的预测值并与差值相加以得到P帧“某点”样值,从而可得到完整的P帧。 
</code></pre><p>P帧特点: </p>
<pre><code>1)  P帧是I帧后面相隔1~2帧的编码帧; 
2)  P帧采用运动补偿的方法传送它与前面的I或P帧的差值及运动矢量(预测误差); 
3)  解码时必须将I帧中的预测值与预测误差求和后才能重构完整的P帧图像; 
4)  P帧属于前向预测的帧间编码。它只参考前面最靠近它的I帧或P帧; 
5)  P帧可以是其后面P帧的参考帧,也可以是其前后的B帧的参考帧; 
6)  由于P帧是参考帧,它可能造成解码错误的扩散; 
7)  由于是差值传送,P帧的压缩比较高。 
</code></pre><p>3、B帧 </p>
<pre><code>B帧:双向预测内插编码帧。B帧是双向差别帧，也就是B帧记录的是本帧与前后帧的差别（具体比较复杂，有4种情况，
但我这样说简单些），换言之，要解码B帧，不仅要取得之前的缓存画面，还要解码之后的画面，通过前后画面的与本帧
数据的叠加取得最终的画面。B帧压缩率高，但是解码时CPU会比较累。 
</code></pre><p>B帧的预测与重构 </p>
<pre><code>B帧以前面的I或P帧和后面的P帧为参考帧,“找出”B帧“某点”的预测值和两个运动矢量,并取预测差值和运动矢量传送。
接收端根据运动矢量在两个参考帧中“找出(算出)”预测值并与差值求和,得到B帧“某点”样值,从而可得到完整的B帧。 
</code></pre><p>B帧特点 </p>
<pre><code>1）B帧是由前面的I或P帧和后面的P帧来进行预测的; 
2）B帧传送的是它与前面的I或P帧和后面的P帧之间的预测误差及运动矢量; 
3）B帧是双向预测编码帧; 
4）B帧压缩比最高,因为它只反映丙参考帧间运动主体的变化情况,预测比较准确; 
5）B帧不是参考帧,不会造成解码错误的扩散。
</code></pre><h3 id="（2）帧数"><a href="#（2）帧数" class="headerlink" title="（2）帧数"></a>（2）帧数</h3><pre><code>帧数(Frames)为帧生成数量的简称。由于口语习惯上的原因，我们通常将帧数与帧率混淆。每一帧都是静止的图象，
快速连续地显示帧便形成了运动的假象，因此高的帧率可以得到更流畅、更逼真的动画。

帧数与帧率的区别编辑
  我们知道，速率(Speed)=距离(Distance)/时间(Time)，单位为米每秒(m/s, meterspersecond, ops)；
同理，帧率(Frame rate)=帧数(Frames)/时间(Time)，单位为帧每秒(f/s, frames per second, fps)。
也就是说，如果一个动画的帧率恒定为60帧每秒(fps)，那么它在一秒钟内的帧数为60帧，两秒钟内的帧数为120帧

录制视频编辑
  对于手机来说，因为涉及机器处理图片能力和存储能力的影响，大多数手机的视频拍摄能力无论是720P还是1080P都只有30帧每秒。
但是随着手机的硬件不断刷新，现在市面上也出现很多能够高速录像的手机，例如：
iPhone 6s在使用4k格式拍摄下，甚至可以使用135帧每秒的超高速拍摄功能。
Find5 也因其高强的硬件，在通过降低到480P之后甚至可以录制120帧每秒的视频。
  当然，其实在手机上使用的高速录像并不成熟，因为受限于硬件和储存设备写入速度等等，拍摄效果总是不够理想。
不过这是个好的开始，起码厂商开始重视人们对高速录像的需求，虽然这个需求量不是很大，但起码有……
  你们可能以为高速录像除了让视频看上去更顺畅之外就没有作用了。其实现在我们看到很多的慢速播放视频都是
由高速录像拍摄下来，然后再通过软件调慢帧数播放，就能表现出慢动作视频了。
  肉眼在看超过24帧每秒的静态图片就会认为是连续动态视频，所以你能拍摄到60帧每秒的视频，然后
通过软件把每秒帧数调节到24帧左右，那么你在一秒钟内拍摄到的图像就能通过慢速播放成两秒钟，而且是连续的、
不会卡顿的。如果你能拍摄90帧每秒的视频，那么你起码能把一秒钟拖慢到三秒的慢动作播放，以此类推。
高速录像能拍摄到很多我们容易忽略的细节和精采的瞬间，通过慢动作播放视频，也会让视频更好玩有趣，这
就是为什么越来越多厂商开始注重高速录像这个功能的原因。
</code></pre><h3 id="（3）码流（码率）"><a href="#（3）码流（码率）" class="headerlink" title="（3）码流（码率）　"></a>（3）码流（码率）　</h3><pre><code>  码流(Data Rate)是指视频文件在单位时间内使用的数据流量，也叫码率或码流率，通俗一点的理解就是取样率,
是视频编码中画面质量控制中最重要的部分，一般我们用的单位是kb/s或者Mb/s。一般来说同样分辨率下，视频
文件的码流越大，压缩比就越小，画面质量就越高。码流越大，说明单位时间内取样率越大，数据流，精度就越高，
处理出来的文件就越接近原始文件，图像质量越好，画质越清晰，要求播放设备的解码能力也越高。当然，码流越大，
文件体积也越大，其计算公式是文件体积=时间X码率/8。
</code></pre><h3 id="（4）采样率"><a href="#（4）采样率" class="headerlink" title="（4）采样率　"></a>（4）采样率　</h3><pre><code>采样率（也称为采样速度或者采样频率）定义了每秒从连续信号中提取并组成离散信号的采样个数，它用赫兹（Hz）
来表示。采样率是指将模拟信号转换成数字信号时的采样频率，也就是单位时间内采样多少点。一个采样点数据
有多少个比特。比特率是指每秒传送的比特(bit)数。单位为 bps(Bit Per Second)，比特率越高，传送的数据越大，
音质越好.比特率 =采样率 x 采用位数 x声道数.
</code></pre><h3 id="（5）比特率"><a href="#（5）比特率" class="headerlink" title="（5）比特率"></a>（5）比特率</h3><pre><code> 比特率是指每秒传送的比特(bit)数。单位为bps(BitPer Second)，比特率越高，传送的数据越大。在视频领域,
比特率常翻译为码率!!! 比特率表示经过编码（压缩）后的音、视频数据每秒钟需要用多少个比特来表示，而比特
就是二进制里面最小的单位，要么是0，要么是1。比特率与音、视频压缩的关系，简单的说就是比特率越高，
音、视频的质量就越好，但编码后的文件就越大；如果比特率越少则情况刚好相反。比特率是指将数字声音、
视频由模拟格式转化成数字格式的采样率，采样率越高，还原后的音质、画质就越好。
</code></pre><h3 id="（6）帧速率"><a href="#（6）帧速率" class="headerlink" title="（6）帧速率"></a>（6）帧速率</h3><pre><code>帧速率也称为FPS(Frames PerSecond)的缩写——帧/秒。FPS是指每秒钟刷新的图片的帧数，也可以理解为图形处理
器每秒钟能够刷新几次。越高的帧速率可以得到更流畅、更逼真的动画。每秒钟帧数(FPS)越多，所显示的动作就会越流畅。
</code></pre><h3 id="（7）GOP"><a href="#（7）GOP" class="headerlink" title="（7）GOP"></a>（7）GOP</h3><pre><code>GOP即Group of picture（图像组），指两个I帧之间的距离，Reference（参考周期）指两个P帧之间的距离。
一个I帧所占用的字节数大于一个P帧，一个P帧所占用的字节数大于一个B帧。所以在码率不变的前提下，
GOP值越大，P、B帧的数量会越多，平均每个I、P、B帧所占用的字节数就越多，也就更容易获取较好的图像质量；
Reference越大，B帧的数量越多，同理也更容易获得较好的图像质量。需要说明的是，通过提高GOP值来提
高图像质量是有限度的，在遇到场景切换的情况时，H.264编码器会自动强制插入一个I帧，此时实际的GOP值
被缩短了。另一方面，在一个GOP中，P、B帧是由I帧预测得到的，当I帧的图像质量比较差时，会影响到一个
GOP中后续P、B帧的图像质量，直到下一个GOP开始才有可能得以恢复，所以GOP值也不宜设置过大。同时，
由于P、B帧的复杂度大于I帧，所以过多的P、B帧会影响编码效率，使编码效率降低。另外，过长的GOP还会
影响Seek操作的响应速度，由于P、B帧是由前面的I或P帧预测得到的，所以Seek操作需要直接定位，解码某一个P
或B帧时，需要先解码得到本GOP内的I帧及之前的N个预测帧才可以，GOP值越长，需要解码的预测帧就越多，seek响应的时间也越长。
</code></pre><h3 id="（8）DTS、PTS-的概念"><a href="#（8）DTS、PTS-的概念" class="headerlink" title="（8）DTS、PTS 的概念"></a>（8）DTS、PTS 的概念</h3><p>DTS、PTS 的概念如下所述：</p>
<pre><code>DTS（Decoding Time Stamp）：即解码时间戳，这个时间戳的意义在于告诉播放器该在什么时候解码这一帧的数据。
PTS（Presentation Time Stamp）：即显示时间戳，这个时间戳用来告诉播放器该在什么时候显示这一帧的数据。

需要注意的是：虽然 DTS、PTS 是用于指导播放端的行为，但它们是在编码的时候由编码器生成的。

当视频流中没有 B 帧时，通常 DTS 和 PTS 的顺序是一致的。但如果有 B 帧时，就回到了我们前面说的问题：解码顺序和播放顺序不一致了。

比如一个视频中，帧的显示顺序是：I B B P，现在我们需要在解码 B 帧时知道 P 帧中信息，因此这几帧在视频流中
的顺序可能是：I P B B，这时候就体现出每帧都有 DTS 和 PTS 的作用了。DTS 告诉我们该按什么顺序解码这几帧图像，
PTS 告诉我们该按什么顺序显示这几帧图像。顺序大概如下：

PTS: 1 4 2 3
DTS: 1 2 3 4
Stream: I P B B
</code></pre><h3 id="（9）常见编码模式："><a href="#（9）常见编码模式：" class="headerlink" title="（9）常见编码模式："></a>（9）常见编码模式：</h3><pre><code>VBR（Variable Bitrate）动态比特率 也就是没有固定的比特率，压缩软件在压缩时根据音频数据即时确定使用什么
比特率，这是以质量为前提兼顾文件大小的方式，推荐编码模式；

ABR（Average Bitrate）平均比特率是VBR的一种插值参数。LAME针对CBR不佳的文件体积比和VBR生成文件大小
不定的特点独创了这种编码模式。ABR在指定的文件大小内，以每50帧（30帧约1秒）为一段，低频和不敏感频率
使用相对低的流量，高频和大动态表现时使用高流量，可以做为VBR和CBR的一种折衷选择。

CBR（Constant Bitrate），常数比特率 指文件从头到尾都是一种位速率。相对于VBR和ABR来讲，它压缩出来的
文件体积很大，而且音质相对于VBR和ABR不会有明显的提高。
</code></pre><h3 id="（10）音视频的同步"><a href="#（10）音视频的同步" class="headerlink" title="（10）音视频的同步"></a>（10）音视频的同步</h3><pre><code>上面说了视频帧、DTS、PTS 相关的概念。我们都知道在一个媒体流中，除了视频以外，通常还包括音频。音频的播放，
也有 DTS、PTS 的概念，但是音频没有类似视频中 B 帧，不需要双向预测，所以音频帧的 DTS、PTS 顺序是一致的。

音频视频混合在一起播放，就呈现了我们常常看到的广义的视频。在音视频一起播放的时候，我们通常需要面临一个问题：
怎么去同步它们，以免出现画不对声的情况。

要实现音视频同步，通常需要选择一个参考时钟，参考时钟上的时间是线性递增的，编码音视频流时依据参考时钟上
的时间给每帧数据打上时间戳。在播放时，读取数据帧上的时间戳，同时参考当前参考时钟上的时间来安排播放。
这里的说的时间戳就是我们前面说的 PTS。实践中，我们可以选择：同步视频到音频、同步音频到视频、同步音频和视频到外部时钟。
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/08/iOStip01/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NSLegend">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/08/iOStip01/" itemprop="url">iOS开发中用到的小知识点(1)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-08T10:25:56+08:00">
                2018-11-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.监听用户按下home键<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(applicationWillResignActive:)name:UIApplicationWillResignActiveNotification object:nil]; //监听是否触发home键挂起程序.</span><br><span class="line"></span><br><span class="line">[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(applicationDidBecomeActive:)name:UIApplicationDidBecomeActiveNotification object:nil]; //监听是否重新进入程序程序</span><br></pre></td></tr></table></figure></p>
<p>2.iOS 禁用或开启屏幕左滑动返回<br>3.修改导航栏颜色<br>4.修改状态栏颜色<br>5.保持屏幕唤醒，阻止锁屏<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">- (void)viewDidAppear:(BOOL)animated &#123;</span><br><span class="line">    [super viewDidAppear:animated];</span><br><span class="line"></span><br><span class="line">  //禁用屏幕左滑返回手势</span><br><span class="line"></span><br><span class="line">  if ([self.navigationController respondsToSelector:@selector(interactivePopGestureRecognizer)])  &#123;</span><br><span class="line">      self.navigationController.interactivePopGestureRecognizer.enabled = NO;</span><br><span class="line">&#125;</span><br><span class="line">  //保持屏幕唤醒，阻止锁屏</span><br><span class="line">  [[UIApplication sharedApplication] setIdleTimerDisabled:YES];</span><br><span class="line">  //修改导航栏颜色</span><br><span class="line">  self.navigationController.navigationBar.tintColor = [UIColor whiteColor];</span><br><span class="line">  self.navigationController.navigationBar.barTintColor = [UIColor blackColor];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (void)viewDidDisappear:(BOOL)animated &#123;</span><br><span class="line"></span><br><span class="line">  [super viewDidDisappear:animated];</span><br><span class="line"></span><br><span class="line">  //开启   </span><br><span class="line">  self.navigationController.interactivePopGestureRecognizer.enabled = YES;</span><br><span class="line">  //关闭保持屏幕唤醒</span><br><span class="line">  [[UIApplication sharedApplication] setIdleTimerDisabled:NO];</span><br><span class="line">  //修改导航栏颜色</span><br><span class="line">  self.navigationController.navigationBar.tintColor = [UIColor blackColor];</span><br><span class="line">  self.navigationController.navigationBar.barTintColor = [UIColor colorWithRed:0.90f green:0.91f blue:0.91f alpha:1.00f];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>6.[NSString stringWithFormat:@”%.0f”,_floatValue]保留小数点后几位 float double<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%.f  表示小数点0位, %.1f  表示小数点1位，%.2f 表示小数点2位，依次类推.</span><br></pre></td></tr></table></figure></p>
<p>7.根据UIColor一个颜色生成一张图片<br>把一个纯颜色转换成一张图片<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">+ (UIImage *)imageWithColor:(UIColor *)color &#123;</span><br><span class="line">    //宽高 1.0只要有值就够了</span><br><span class="line">    CGRect rect = CGRectMake(0.0f, 0.0f, 1.0f, 1.0f); </span><br><span class="line">    //在这个范围内开启一段上下文</span><br><span class="line">    UIGraphicsBeginImageContext(rect.size); </span><br><span class="line">    CGContextRef context = UIGraphicsGetCurrentContext();</span><br><span class="line">    //在这段上下文中获取到颜色UIColor</span><br><span class="line">    CGContextSetFillColorWithColor(context, [color CGColor]);</span><br><span class="line">    //用这个颜色填充这个上下文</span><br><span class="line">    CGContextFillRect(context, rect);</span><br><span class="line">    //从这段上下文中获取Image属性,,,结束</span><br><span class="line">    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">    UIGraphicsEndImageContext();</span><br><span class="line"></span><br><span class="line">    return image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>8、xib里面label文字设置换行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">直接在需要换行的文字前: option + enter</span><br></pre></td></tr></table></figure></p>
<p>9、ios 使用popToViewController返回到相应的Controller<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、取navigationCtroller中的Controllers  </span><br><span class="line">NSArray * ctrlArray = self.navigationController.viewControllers;  </span><br><span class="line">2、 [self.navigationController popToViewController:[ctrlArray objectAtIndex:0] animated:YES];</span><br></pre></td></tr></table></figure></p>
<p>10、iOS隐藏导航栏的返回按钮<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[self.navigationController.navigationItem setHidesBackButton:YES]; </span><br><span class="line">[self.navigationItem setHidesBackButton:YES]; </span><br><span class="line">[self.navigationController.navigationBar.backItem setHidesBackButton:YES];</span><br></pre></td></tr></table></figure></p>
<p>11、tableView整体上移时的解决方案<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在使用了navigationController后，当界面进行跳转往返后，时而会出现tableView或collectionView上移的情况，通常会自动上移64个像素，那么这种情况，我们可以关闭tableView的自动适配布局。</span><br><span class="line"></span><br><span class="line">self.automaticallyAdjustsScrollViewInsets = NO;// 默认是YES</span><br></pre></td></tr></table></figure></p>
<p>12、当cell很少的情况下（没有占满屏幕）,不能拖拽collectionView进行下拉刷新<br>解决方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">当数据不多，不够一屏幕，collectionView.contentSize小于collectionView.frame.size的时候，UICollectionView是不会滚动的</span><br><span class="line">当所有collectionCell的高度和没有占满整个parent container的时候，当下拉的时候都不会触发scrollViewDidScroll。</span><br><span class="line">所以在创建collectionView的时候添加：</span><br><span class="line">self.collectionView.alwaysBounceVertical = YES;</span><br></pre></td></tr></table></figure></p>
<p>13、iOS开发 给Label加下划线、中划线<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//添加中划线:</span><br><span class="line">UILabel * strikeLabel = [[UILabel alloc] initWithFrame:(CGRectMake(50, 50, 100, 30))];</span><br><span class="line">NSString *textStr = [NSString stringWithFormat:@&quot;%@元&quot;, price];</span><br><span class="line"></span><br><span class="line">//中划线</span><br><span class="line">NSDictionary *attribtDic = @&#123;NSStrikethroughStyleAttributeName: [NSNumber numberWithInteger:NSUnderlineStyleSingle]&#125;;</span><br><span class="line">NSMutableAttributedString *attribtStr = [[NSMutableAttributedString alloc]initWithString:textStr attributes:attribtDic];</span><br><span class="line"></span><br><span class="line">// 赋值</span><br><span class="line">strikeLabel.attributedText = attribtStr;</span><br><span class="line"></span><br><span class="line">[self.view addSubview:strikeLabel];</span><br><span class="line"></span><br><span class="line">//添加下划线:</span><br><span class="line">UILabel *underlineLabel = [[UILabel alloc] initWithFrame:(CGRectMake(50, 100, 250, 30))];</span><br><span class="line">NSString *underlineStr = [NSString stringWithFormat:@&quot;touch underline text to jump&quot;];</span><br><span class="line"></span><br><span class="line">// 下划线</span><br><span class="line">NSMutableAttributedString *underlineattribtStr = [[NSMutableAttributedString alloc]initWithString:underlineStr];</span><br><span class="line">[underlineattribtStr addAttribute:NSUnderlineStyleAttributeName value:[NSNumber numberWithInteger:NSUnderlineStyleSingle] range:titleRange];</span><br><span class="line">[underlineattribtStr addAttribute:NSForegroundColorAttributeName value:[UIColor colorWithRed:0.09f green:0.68f blue:0.72f alpha:1.00f] range:titleRange];</span><br><span class="line">//赋值</span><br><span class="line">underlineLabel.attributedText = underlineattribtStr;</span><br><span class="line"></span><br><span class="line">[self.view addSubview:underlineLabel];</span><br></pre></td></tr></table></figure></p>
<p>14、扩大按钮UIButton的点击范围</p>
<p>继承一个UIButton，然后重写 - (BOOL)pointInside:(CGPoint)point withEvent:(UIEvent *)event 这个方法，苹果的概念是点击区域最好不小于44 point，所以我们根据这个数值计算我们的点击区域。</p>
<p>自定义按钮 扩大按钮点击范围<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)pointInside:(CGPoint)point withEvent:(UIEvent*)event&#123;</span><br><span class="line">    CGRect bounds =self.bounds;</span><br><span class="line">    CGFloat widthDelta =44.0- bounds.size.width;</span><br><span class="line">    CGFloat heightDelta =44.0- bounds.size.height;</span><br><span class="line">    //注意这里是负数，扩大了之前的bounds的范围</span><br><span class="line">    bounds =CGRectInset(bounds, -0.5* widthDelta, -0.5*heightDelta);</span><br><span class="line">    return CGRectContainsPoint(bounds, point);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>15、利用KVO来监听对象属性的变化<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (void)addObserver:(NSObject *)observer forKeyPath:(NSString *)keyPath options:(NSKeyValueObservingOptions)options context:(nullable void *)context;</span><br><span class="line">    //监听一个按钮可点击与不可点击的变化</span><br><span class="line">    [self.photoLibraryBtn addObserver:self forKeyPath:@&quot;enabled&quot; options:NSKeyValueObservingOptionNew context:nil];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>一旦你所监听的那个属性的值发生了改变，监听者(我们这里的监听者就是控制器)就会调用-observeValueForKeyPath: ofObject: change: context:方法做出相应的反应：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark - KVO</span><br><span class="line">// KVO的监听方法，只要是要监听的属性发生改变，控制器就会调用这个方法</span><br><span class="line">- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary&lt;NSString *,id&gt; *)change context:(void *)context &#123;</span><br><span class="line">    if ([change objectForKey:@&quot;new&quot;]) &#123;//1</span><br><span class="line">        self.photoLibraryBtn.backGroundColor = [UIColor colorWithRed:77/255.0 green:77/255.0 blue:77/255.0 alpha:0.4].CGColor;</span><br><span class="line">    &#125;else&#123;//0</span><br><span class="line">        self.photoLibraryBtn.backGroundColor = [UIColor colorWithRed:77/255.0 green:77/255.0 blue:77/255.0 alpha:1].CGColor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>// 在监听器销毁之前移除KVO<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (void)dealloc &#123;</span><br><span class="line">    // 移除KVO监听器</span><br><span class="line">    [self.photoLibraryBtn removeObserver:self forKeyPath:@&quot;enabled&quot;]; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>16、修改textField的placeholder的字体颜色、大小<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[textField setValue:[UIColor redColor] forKeyPath:@&quot;_placeholderLabel.textColor&quot;];</span><br><span class="line">[textField setValue:[UIFont boldSystemFontOfSize:16] forKeyPath:@&quot;_placeholderLabel.font&quot;];</span><br></pre></td></tr></table></figure></p>
<p>17、当tableView占不满一屏时，去除下边多余的单元格<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self.tableView.tableHeaderView = [UIView new];</span><br><span class="line">self.tableView.tableFooterView = [UIView new];</span><br></pre></td></tr></table></figure></p>
<p>18、判断控制器是不是当前显示的控制器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if ([self.navigationController.visibleViewController isEqual:self]) &#123;  </span><br><span class="line">           </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>19、UICollectionView设置header悬浮效果<br>在iOS9.0后UICollectionView的头部视图也能像tableView的header一样出现悬浮挂住的效果。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> UICollectionViewFlowLayout *flowLayout = [[UICollectionViewFlowLayout alloc] init];</span><br><span class="line">//header</span><br><span class="line">flowLayout.sectionHeadersPinToVisibleBounds = YES;</span><br><span class="line">//footer</span><br><span class="line">flowLayout.sectionFootersPinToVisibleBounds = YES;</span><br></pre></td></tr></table></figure></p>
<p>20、设置导航栏标题的字体大小和颜色</p>
<p>方法一：自定义视图。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">UILabel *titleLabel = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, 200, 44)];  </span><br><span class="line">titleLabel.backgroundColor = [UIColor grayColor];  </span><br><span class="line">titleLabel.font = [UIFont boldSystemFontOfSize:20];  </span><br><span class="line">titleLabel.textColor = [UIColor blueColor];  </span><br><span class="line">titleLabel.textAlignment = NSTextAlignmentCenter;  </span><br><span class="line">titleLabel.text = @&quot;导航栏标题&quot;;  </span><br><span class="line">self.navigationItem.titleView = titleLabel;</span><br></pre></td></tr></table></figure></p>
<p>方法二：在默认显示的标题中直接修改文字的大小和颜色。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self.navigationItem.title = @&quot;导航栏标题&quot;;  </span><br><span class="line">[self.navigationController.navigationBar setTitleTextAttributes:@&#123;NSFontAttributeName:[UIFont boldSystemFontOfSize:18],NSForegroundColorAttributeName:[UIColor blueColor]&#125;];</span><br></pre></td></tr></table></figure></p>
<p>21、iOS移除git管理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">打开终端</span><br><span class="line">1、cd到项目目录</span><br><span class="line">2、执行    find ./ -name .git -exec rm -rf &#123;&#125; \;   即可</span><br><span class="line"></span><br><span class="line">命令中包含.git是删除掉目录下隐藏的.git文件夹，如果是svn管理的话执行</span><br><span class="line">find ./ -name .svn -exec rm -rf &#123;&#125; \;</span><br></pre></td></tr></table></figure></p>
<p>22.打印NSRange,CGRect,CGPoint等结构体<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">NSString *NSStringFromCGPoint(CGPoint point);</span><br><span class="line">NSString *NSStringFromCGVector(CGVector vector);</span><br><span class="line">NSString *NSStringFromCGSize(CGSize size);</span><br><span class="line">NSString *NSStringFromCGRect(CGRect rect);</span><br><span class="line">NSString *NSStringFromCGAffineTransform(CGAffineTransform transform);</span><br><span class="line">NSString *NSStringFromUIEdgeInsets(UIEdgeInsets insets);</span><br><span class="line">NSString *NSStringFromUIOffset(UIOffset offset);</span><br><span class="line">NSString *NSStringFromSelector(SEL aSelector);</span><br><span class="line">NSString *NSStringFromClass(Class aClass);</span><br><span class="line">NSString *NSStringFromProtocol(Protocol *proto);</span><br><span class="line">NSRange NSUnionRange(NSRange range1, NSRange range2);</span><br><span class="line">NSRange NSIntersectionRange(NSRange range1, NSRange range2);</span><br><span class="line">NSString *NSStringFromRange(NSRange range);</span><br><span class="line">NSRange NSRangeFromString(NSString *aString);</span><br><span class="line"></span><br><span class="line">CGRect frame = CGRectMake(10, 10, 10, 10);</span><br><span class="line">NSLog(@&quot;%@&quot;, NSStringFromCGRect(frame));</span><br></pre></td></tr></table></figure></p>
<p>23、”OBJC_CLASS$_CTTelephonyNetworkInfo”, referenced from:<br>objc-class-ref in BaiduMapAPI_Base(VDeviceAPI.o)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">项目添加CoreTelephony.framework.框架解决</span><br></pre></td></tr></table></figure></p>
<p>24、隐藏APP的状态栏statusBar</p>
<p>1）全局隐藏statusBar 在APPDelegate中，设置application.statusBarHidden为YES.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[UIApplication sharedApplication] setStatusBarHidden:YES withAnimation:UIStatusBarAnimationFade];</span><br></pre></td></tr></table></figure></p>
<p>2）info.plist中，设置UIViewControllerBasedStatusBarAppearance为false。</p>
<p>单独隐藏某个ViewController的statusBar需要重写prefersStatusBarHidden方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)prefersStatusBarHidden &#123;</span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>25、格式化日期时间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//实例化一个NSDateFormatter对象</span><br><span class="line">NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];</span><br><span class="line">//设定时间格式,这里可以设置成自己需要的格式</span><br><span class="line">[dateFormatter setDateFormat:@&quot;yyyy-MM-dd HH:mm:ss&quot;];</span><br><span class="line">//用[NSDate date]可以获取系统当前时间</span><br><span class="line">NSString *currentDateStr = [dateFormatter stringFromDate:[NSDate date]];</span><br><span class="line">//输出格式为：2010-10-27 10:22:13</span><br><span class="line">NSLog(@&quot;%@&quot;,currentDateStr);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">G: 公元时代，例如AD公元  </span><br><span class="line">yy: 年的后2位  </span><br><span class="line">yyyy: 完整年  </span><br><span class="line">MM: 月，显示为1-12  </span><br><span class="line">MMM: 月，显示为英文月份简写,如 Jan  </span><br><span class="line">MMMM: 月，显示为英文月份全称，如 Janualy  </span><br><span class="line">dd: 日，2位数表示，如02  </span><br><span class="line">d: 日，1-2位显示，如 2  </span><br><span class="line">EEE: 简写星期几，如Sun  </span><br><span class="line">EEEE: 全写星期几，如Sunday  </span><br><span class="line">aa: 上下午，AM/PM  </span><br><span class="line">H: 时，24小时制，0-23  </span><br><span class="line">K：时，12小时制，0-11  </span><br><span class="line">m: 分，1-2位  </span><br><span class="line">mm: 分，2位  </span><br><span class="line">s: 秒，1-2位  </span><br><span class="line">ss: 秒，2位  </span><br><span class="line">S: 毫秒  </span><br><span class="line">Z：GMT</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/07/soul-article/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NSLegend">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/07/soul-article/" itemprop="url">乔布斯语录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-07T09:01:00+08:00">
                2018-11-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>人这一辈子没法做太多的事情，所以每一件都要做得精彩绝伦。</p>
<p>你的时间有限，所以不要为别人而活。不要被教条所限，不要活在别人的观念里。不要让别人的意见左右自己内心的声音。</p>
<p>最重要的是，勇敢的去追随自己的心灵和直觉，只有自己的心灵和直觉才知道你自己的真实想法，其他一切都是次要。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/06/hello-world/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NSLegend">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/06/hello-world/" itemprop="url">2005年乔布斯在斯坦福大学毕业典礼上的演讲</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-06T18:03:41+08:00">
                2018-11-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>很荣幸今天能和你们一起参加毕业典礼，斯坦福大学是世界上最好的大学之一，而我从来没拿过大学毕业证。说实话，在我的生命中，今天也许是我距离大学毕业最近的一天了。</p>
<p>我想向你们讲述我生活中的三个故事，不是什么大不了的事，只是三个故事而已。</p>
<p>关于如何把生命中的点滴串连起来</p>
<p>第一个故事是关于如何把生命中的点滴串连起来。</p>
<p>我在里德大学读了六个月之后就退学了，但是在十八个月以后——我真正作出退学决定之前，我还经常去学校。我为什么要退学呢？</p>
<p>故事得从我出生时讲起。我的生母是一个年轻的、未婚的大学毕业生。她决定让别人收养我， 她非常希望我被受过高等教育的人收养。所以在我出生的时候，她已经做好了一切准备工作，使我得以被一个律师和他的妻子所收养。</p>
<p>让她意外的是，当我出生之后，律师夫妇突然决定生个女孩。所以我的养父母（他们还在我亲生父母的观察名单上）突然在半夜接到了一个电话:“我们现在这儿有一个不小心生出来的男婴，你们想要吗？”他们回答道:“当然！”但是我的生母随后发现，我的养母从来没有上过大学，我的养父甚至没读过高中。她拒绝签收养合同。直到几个月以后，我的养父母答应她一定会让我上大学，她才同意。</p>
<p>在十七岁那年，我真的上了大学。但是我很愚蠢地选择了一个几乎和斯坦福大学一样昂贵的学校， 我的养父母是工人，他们几乎把所有积蓄都花在了我的学费上。</p>
<p>六个月后， 我已经看不到其中的价值所在。我不知道我想做什么，也不知道大学能帮我找到怎样的答案，而我却几乎花光了养父母一生的积蓄。所以我决定退学，我觉得这是个正确的决定。不能否认，我当时确实非常害怕， 但是现在回头看看，那的确是我这一生中最棒的决定。在我决定退学的那一刻， 我终于可以不必去读那些毫无兴趣的课程了，可以去学那些看起来有点意思的课程。</p>
<p>但这并不怎么浪漫。由于没有宿舍可住，我只能睡在朋友房间的地板上；为了有钱填饱肚子，我去捡5美分的可乐瓶子来卖；在星期天的晚上，我要走七英里的路，穿过这个城市到Hare Krishna教堂，只是为了能吃上饭——这个星期唯一一顿好点的饭。但我喜欢这样，我跟随好奇心和直觉所做的事，后来被证明基本都是极其珍贵的经验。我举几个例子：</p>
<p>那时候，里德大学提供了全美国最好的书法教育。整个校园里的每一张海报、每一个抽屉上的标签，都是漂亮的手写体。由于已经退学，不用再去上那些常规的课程，于是我选择了一个书法班，想学学怎么写出一手漂亮字。在这个班上，我学习了各种衬线和无衬线字体，如何改变不同字体组合之间的字间距，以及如何做出漂亮的版式。那是一种科学永远无法捕捉的充满美感、历史感和艺术感的微妙，我发现这太有意思了。</p>
<p>当时，我压根儿没想到这些知识会在我的生命中有什么实际运用价值；但是8年之后，当我们设计第一款Macintosh电脑的时候，这些东西全派上了用场。我把它们全部设计进了Mac，这是第一台可以排出好看版式的电脑。如果当时我在大学里没有旁听这门课程的话，Mac就不会提供各种字体和等间距字体。自从视窗系统抄袭了Mac以后，所有的个人电脑都有了这些东西。如果我没有退学，我就不会去书法班旁听，而今天的个人电脑大概也就不会有出色的版式功能。</p>
<p>当然，在我念大学那会儿，不可能有先见之明，把那些生命中的点点滴滴都串起来；但10年之后再回头看，生命的轨迹变得非常清楚。</p>
<p>再强调一次，你不可能充满预见地将生命的点滴串联起来。只有在你回头看的时候，你才会发现这些点点滴滴之间的联系。所以，你要坚信，你现在所经历的，将在你未来的生命中串联起来。你不得不相信某些东西，你的直觉、命运、生活、因缘际会……正是这种信仰让我没有失去希望，它使我的人生变得与众不同。</p>
<p>关于爱与得失</p>
<p>我的第二个故事是关于爱与失去。</p>
<p>我是幸运的，在年轻时就知道了自己爱做什么。在我20岁的时候，就和沃兹在我父母的车库里开创了苹果电脑公司。我们勤奋工作，只用了10年的时间，最初只有一个车库和两个小伙子的苹果公司，已经扩展成拥有4000名员工、价值达到20亿美元的企业。而在此之前的一年，我们推出了我们最好的产品Macintosh电脑，当时我刚过而立之年。然后，我就被炒了鱿鱼。</p>
<p>一个人怎么可以被他所创立的公司解雇呢？</p>
<p>这是因为，随着苹果的成长，我们请了一个原以为很能干的家伙和我一起管理公司，在头一年左右，他干得还不错，但后来，我们对公司未来的前景出现了分歧，于是矛盾便产生了。由于公司的董事会站在他那一边，所以我被踢出了局，那年我30岁。失去了一直贯穿在我整个成年生活的重心，这种打击是毁灭性的。</p>
<p>在接下来的几个月，我真不知道该做些什么。我觉得我让企业界的前辈们失望了，我失去了传到我手上的指挥棒。我找到了戴维·帕卡德（注：戴维·帕卡德，普惠的创办人之一）和鲍勃·诺伊斯（注：鲍勃·诺伊斯，英特尔创办人之一），我向他们道歉，因为我把事情搞砸了。我成了人人皆知的失败者，我甚至想过逃离硅谷。但曙光渐渐出现，我还是喜欢我做过的事情，于是决定重新开始。</p>
<p>事实证明，被苹果开掉是我这一生所经历过的最棒的事，尽管当时的我并未意识到。成功的沉重被凤凰涅槃的轻盈所代替，我以自由之躯进入了生命中最富创新力的时期。</p>
<p>在接下来的5年里，我开创了一家叫做NeXT的公司，接着是一家名叫Pixar的公司，并认识了后来成为我妻子的曼妙女郎劳伦斯。Pixar制作了世界上第一部全电脑动画电影《玩具总动员》，现在这家公司是世界上最成功的动画制作公司之一。后来经历一系列的事件，苹果买下了NeXT，于是我又回到了苹果，我们在NeXT研发出的技术在推动苹果复兴的核心动力。我和劳伦斯也拥有了美满的家庭。</p>
<p>我非常肯定，如果没有被苹果炒掉，这一切都不可能在我身上发生。对于病人来说，良药总是苦口。生活有时候就像一块板砖拍向你的脑袋，但不要丧失信心。热爱我所从事的工作，是一直支持我不断前进的惟一理由。你得找出你的最爱，对工作如此，对爱人亦是如此。工作将占据你生命中相当大的一部分，从事你认为具有非凡意义的工作，方能给你带来真正的满足感。而从事一份伟大工作的惟一方法，就是去热爱这份工作。如果你到现在还没有找到这样一份工作，那么就继续找。不要安于现状，当万事了于心的时候，你就会知道何时能找到。如同任何伟大的浪漫关系一样，伟大的工作只会在岁月的酝酿中越陈越香。所以，在你终有所获之前，不要停下你寻觅的脚步。不要停下。</p>
<p>关于死亡</p>
<p>我的第三个故事是关于死亡。</p>
<p>在17岁的时候，我读过一句格言，好像是：“如果你把每一天都当成你生命里的最后一天，你将在某一天发现，原来一切皆在掌握之中。”这句话从我读到之日起，就对我产生了深远的影响。在过去的33年里，我每天早晨都对着镜子问自己：“如果今天是我生命中的末日，我还愿意做我今天本来应该做的事情吗？”当一连好多天答案都否定的时候，我就知道做出改变的时候到了。</p>
<p>提醒自己行将入土，这是我在面临人生中的重大抉择时最为重要的工具。</p>
<p>因为所有的事情–荣誉、声望、对尴尬和失败的惧怕–在面对死亡的时候都将烟消云散，只留下真正重要的东西。在我所知道的各种方法中，提醒自己即将死去是避免产生上述想法的最好办法。赤条条来去无牵挂，没有理由不听从你内心的呼唤。</p>
<p>大约一年前，我被诊断出癌症。在早晨7：30我做了一个检查，扫描结果清楚地显示我的胰脏出现了一个肿瘤。我当时甚至不知道胰脏究竟是什么。医生告诉我，几乎可以确定这是一种不治之症，顶多还能活3至6个月。大夫建议我回家，把诸事安排妥当，这是医生对临终病人的标准用语。这意味着你得把你今后10年要对你的子女说的话用几个月的时间说完；这意味着你得把一切都安排妥当，尽可能减少你的家人在你身后的负担；这意味着向众人告别的时间到了。</p>
<p>我整天都想着诊断结果。那天晚上做了一个切片检查，医生把一个内诊镜从我的喉管伸进去，穿过我的胃进入肠道，将探针伸进胰脏，从肿瘤上取出了几个细胞。我打了镇静剂，我的太太当时在场，她后来告诉我说，当大夫们从显微镜下观察了细胞组织后尖叫起来，因为那是非常罕见的、但可以通过手术治疗的胰脏癌。我接受了手术，现在已经康复了。</p>
<p>这是我最接近死亡的一次，我希望在随后的几十年里，都不要有比这一次更接近死亡的经历。在有了与死神擦肩而过的经历后，死亡对我来说，只是一个有用但纯粹是知识上的概念，我可以更肯定地告诉你们：没人想死；即使想去天堂的人，也是希望能活着进去。死亡是每个人的人生终点站，没人能够例外。</p>
<p>生命就是如此，因为死亡很可能是生命最好的造物，它是生命更迭的媒介，送走老者，给新生代让路。现在你们还是新生代，但不久的将来你们也将逐渐老去，被送出人生的舞台。很抱歉说得这么富有戏剧性，但生命就是如此。</p>
<p>你们的时间有限，所以不要把时间浪费在别人的生活里。不要被条条框框束缚，否则你就生活在他人思考的结果里。不要让他人的观点所发出的噪音淹没你内心的声音。最为重要的是，要有遵从你的内心和直觉的勇气，它们可能已知道你其实想成为一个什么样的人。其他事物都是次要的。</p>
<p>在我年轻的时候，有一本非常棒的杂志叫《全球目录》（The Whole Earth Catalog），它被我们那一代人奉为圣经。这本杂志的创办人是一个叫斯图尔特·布兰德的家伙，他住在Menlo Park，离这儿不远。他把这本杂志办得充满诗意。那是在60年代末期，个人电脑、桌面发排系统还没有出现，所以出版工具只有打字机、剪刀和宝丽来相机。这本杂志有点像印在纸上的Google，但那是在Google出现的35年前。它充满了理想色彩，内容都是些非常好用的工具和了不起的见解。</p>
<p>斯图尔特和他的团队做了几期《全球目录》，快无疾而终的时候，他们出版了最后一期。那是在70年代中期，我当时处在你们现在的年龄。在最后一期的封底有一张清晨乡间公路的照片，如果你喜欢搭车冒险旅行的话，经常会碰到的那种小路。在照片下面有一排字：</p>
<p>Stay Hungry，Stay Foolish<br>好学若饥，谦卑若愚</p>
<p>这是他们停刊的告别留言，此后的日子里，我总是用这句话来勉励自己。现在，在你们毕业、即将开始新生活的时候，我用这句话与你们共勉：</p>
<p>好学若饥，谦卑若愚。</p>
<p>谢谢诸位。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">NSLegend</p>
              <p class="site-description motion-element" itemprop="description">Stay Hungry,Stay Foolish.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/WSGNSLog" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.jianshu.com/u/ba5f297de9bc" target="_blank" title="简书">
                      
                        <i class="fa fa-fw fa-heartbeat"></i>简书</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">NSLegend</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>








        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
